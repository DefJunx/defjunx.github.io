---
import { cn } from "@lib/utils";
import type { HTMLAttributes } from "astro/types";
import { cva, type VariantProps } from "class-variance-authority";

const button = cva("button", {
  variants: {
    intent: {
      primary: ["bg-primary/90", "text-white", "border-transparent", "hover:bg-primary"],
      secondary: ["bg-secondary/90", "text-text", "border-secondary/80", "hover:bg-secondary"]
    },
    size: {
      small: ["text-sm", "py-1", "px-2"],
      medium: ["text-base", "py-2", "px-4"],
      large: ["text-lg", "py-4", "px-6"]
    }
  }
});

export interface Props extends HTMLAttributes<"button">, VariantProps<typeof button> {}

const { intent = "primary", size = "medium", class: className } = Astro.props;
---

<button class={cn(button({ intent, size }), className)}>
  <slot />
</button>
